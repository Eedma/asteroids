!function(e){var t={};function i(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(s,n,function(t){return e[t]}.bind(null,n));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";var s=i(1),n=void 0,o=void 0,r=window.innerWidth,a=window.innerHeight,h=void 0,l=void 0,d=void 0,u=void 0;function c(){l=new s.Game,n=document.getElementById("canvas"),o=n.getContext("2d"),n.width=r,n.height=a,o.fillStyle="black",o.fillRect(0,0,n.width,n.height),d=new s.Ship;for(var e=0;e<l.exp+8;e++)l.asteroids.push(new s.Asteroid);document.body.addEventListener("keydown",v),document.body.addEventListener("keyup",f),u=null==localStorage.getItem("HighScore")?0:localStorage.getItem("HighScore"),g()}function v(e){l.keys[e.keyCode]=!0}function f(e){l.keys[e.keyCode]=!1,32===e.keyCode&&l.bullets.push(new s.Bullet(d))}function y(e,t,i,s,n,o){var r,a;return r=e-s,a=t-n,i+o>Math.sqrt(r*r+a*a)}function g(){if(d.movingForward=l.keys[87],l.keys[68]&&d.Rotate(1),l.keys[65]&&d.Rotate(-1),o.clearRect(0,0,r,a),document.getElementById("score").innerHTML="",document.getElementById("score").innerHTML="score: "+l.score,0===l.asteroids.length){l.exp+=1;for(var e=0;e<l.exp+8;e++){var t=new s.Asteroid;t.speed=l.exp,l.asteroids.push(t)}}if(function(){var e=1350,t=[[9,9],[-9,9]];o.strokeStyle="white";for(var i=0;i<l.lives;i++){o.beginPath(),o.moveTo(e,10);for(var s=0;s<t.length;s++)o.lineTo(e+t[s][0],10+t[s][1]);o.closePath(),o.stroke(),e-=30}}(),0!==l.asteroids.length)for(var i=0;i<l.asteroids.length;i++)y(d.x,d.y,11,l.asteroids[i].x,l.asteroids[i].y,l.asteroids[i].collisionRadius)&&(d.x=r/2,d.y=a/2,d.velX=0,d.velY=0,l.lives-=1);if(0!==l.asteroids.length&&0!=l.bullets.length)e:for(var n=0;n<l.asteroids.length;n++)for(var c=0;c<l.bullets.length;c++)if(y(l.bullets[c].x,l.bullets[c].y,3,l.asteroids[n].x,l.asteroids[n].y,l.asteroids[n].collisionRadius)){1===l.asteroids[n].level?(l.asteroids.push(new s.Asteroid(l.asteroids[n].x-5,l.asteroids[n].y-5,25,2,22,l.exp-1)),l.asteroids.push(new s.Asteroid(l.asteroids[n].x+5,l.asteroids[n].y+5,25,2,22,l.exp-1))):2===l.asteroids[n].level&&(l.asteroids.push(new s.Asteroid(l.asteroids[n].x-5,l.asteroids[n].y-5,15,3,12,l.exp-.5)),l.asteroids.push(new s.Asteroid(l.asteroids[n].x+5,l.asteroids[n].y+5,15,3,12,l.exp-.5))),l.asteroids.splice(n,1),l.bullets.splice(c,1),l.score+=20;break e}if(d.visible&&(d.Update(),d.Draw()),0!==l.bullets.length)for(var v=0;v<l.bullets.length;v++)l.bullets[v].Update(),l.bullets[v].Draw();if(0!==l.asteroids.length)for(var f=0;f<l.asteroids.length;f++)l.asteroids[f].Update(),l.asteroids[f].Draw(f);u=Math.max(l.score,u),localStorage.setItem("HighScore",u),document.getElementById("highscore").innerHTML="",document.getElementById("highscore").innerHTML="highscore: "+u,document.getElementById("exp").innerHTML="",document.getElementById("exp").innerHTML="level: "+l.exp,h=requestAnimationFrame(g),l.lives<=0&&p()}document.addEventListener("DOMContentLoaded",c),document.addEventListener("keydown",(function(e){l.lives<=0&&32===e.keyCode&&c()}));var p=function(){if(document.body.removeEventListener("keydown",v),document.body.removeEventListener("keyup",f),d.visible=!1,document.getElementById("dialog-rounded").showModal(),document.getElementById("final-score").innerHTML="Your score is "+l.score,l.lives<=0)return cancelAnimationFrame(h)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}();function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=window.innerWidth,r=window.innerHeight,a=document.getElementById("canvas"),h=a.getContext("2d");t.Game=function e(){n(this,e),this.keys=[],this.bullets=[],this.asteroids=[],this.score=0,this.lives=3,this.exp=1},t.Ship=function(){function e(){n(this,e),this.visible=!0,this.x=o/2,this.y=r/2,this.movingForward=!1,this.speed=.1,this.velX=0,this.velY=0,this.rotateSpeed=.001,this.radius=15,this.angle=0,this.strokeColor="white",this.noseX=o/2+15,this.noseY=r/2}return s(e,[{key:"Rotate",value:function(e){this.angle+=this.rotateSpeed*e}},{key:"Update",value:function(){var e=this.angle/Math.PI*180;this.movingForward&&(this.velX+=Math.cos(e)*this.speed,this.velY+=Math.sin(e)*this.speed),this.x<this.radius&&(this.x=a.width),this.x>a.width&&(this.x=this.radius),this.y<this.radius&&(this.y=a.height),this.y>a.height&&(this.y=this.radius),this.velX*=.99,this.velY*=.99,this.x-=this.velX,this.y-=this.velY}},{key:"Draw",value:function(){h.strokeStyle=this.strokeColor,h.beginPath();var e=2*Math.PI/3,t=this.angle/Math.PI*180;this.noseX=this.x-this.radius*Math.cos(t),this.noseY=this.y-this.radius*Math.sin(t);for(var i=0;i<3;i++)h.lineTo(this.x-this.radius*Math.cos(e*i+t),this.y-this.radius*Math.sin(e*i+t));h.closePath(),h.stroke()}}]),e}(),t.Bullet=function(){function e(t){n(this,e),this.visible=!0,this.x=t.noseX,this.y=t.noseY,this.angle=t.angle,this.height=4,this.width=4,this.speed=10,this.velX=0,this.velY=0}return s(e,[{key:"Update",value:function(){var e=this.angle/Math.PI*180;this.x-=Math.cos(e)*this.speed,this.y-=Math.sin(e)*this.speed}},{key:"Draw",value:function(){h.fillStyle="white",h.fillRect(this.x,this.y,this.width,this.height)}}]),e}(),t.Asteroid=function(){function e(t,i,s,a,h,l){n(this,e),this.visible=!0,this.x=t||Math.floor(Math.random()*o),this.y=i||Math.floor(Math.random()*r),this.speed=1,this.radius=s||50,this.angle=Math.floor(359*Math.random()),this.strokeColor="white",this.collisionRadius=h||46,this.level=a||1}return s(e,[{key:"Update",value:function(){var e=this.angle/Math.PI*180;this.x+=Math.cos(e)*this.speed,this.y+=Math.sin(e)*this.speed,this.x<this.radius&&(this.x=a.width),this.x>a.width&&(this.x=this.radius),this.y<this.radius&&(this.y=a.height),this.y>a.height&&(this.y=this.radius)}},{key:"Draw",value:function(){h.beginPath();for(var e=2*Math.PI/6,t=this.angle/Math.PI*180,i=0;i<6;i++)h.lineTo(this.x-this.radius*Math.cos(e*i+t),this.y-this.radius*Math.sin(e*i+t));h.closePath(),h.stroke()}}]),e}()}]);